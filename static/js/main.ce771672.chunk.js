(this["webpackJsonpyalantis-react-school"]=this["webpackJsonpyalantis-react-school"]||[]).push([[0],{12:function(e,t,s){e.exports={radioButtons:"UserItem_radioButtons__33oIb",userContainer:"UserItem_userContainer__26svp",selected:"UserItem_selected__3tne_"}},13:function(e,t,s){e.exports={noUsers:"UserBirthdayItem_noUsers__1Mhai",userBirthday:"UserBirthdayItem_userBirthday__2nNgC"}},16:function(e,t,s){e.exports={listByLetter:"ListByLetter_listByLetter__3s6v7"}},26:function(e,t,s){},27:function(e,t,s){"use strict";s.r(t);var r=s(0),a=s(15),n=s.n(a),c=s(4),i=s(10),o=s(1),l=Object(r.createContext)(),u=function(e,t){switch(t.type){case"selectUser":return[].concat(Object(i.a)(e),[t.payload.user]);case"unselectUser":return e.filter((function(e){return e.id!==t.payload.user.id}));default:return e}};function d(e){var t=Object(r.useReducer)(u,[],(function(){var e=localStorage.getItem("users");return e?JSON.parse(e):[]})),s=Object(c.a)(t,2),a=s[0],n=s[1];return Object(r.useEffect)((function(){localStorage.setItem("users",JSON.stringify(a))}),[a]),Object(o.jsx)(l.Provider,{value:{updateUsers:n,users:a},children:e.children})}var j=s(12),h=s.n(j);function m(e){var t=e.user,s=Object(r.useState)(!1),a=Object(c.a)(s,2),n=a[0],i=a[1],u=Object(r.useContext)(l),d=u.users,j=u.updateUsers;return Object(r.useEffect)((function(){d.find((function(e){return e.id===t.id}))&&i(!0)}),[d,t]),Object(o.jsxs)("div",{className:h.a.userContainer,children:[Object(o.jsx)("div",{className:"s.userName ".concat(n&&"selected"),children:"".concat(t.firstName," ").concat(t.lastName)}),Object(o.jsxs)("span",{className:h.a.radioButtons,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{type:"radio",name:t.id,value:!0,checked:n,onChange:function(){i(!0),j({type:"selectUser",payload:{user:t}})}}),Object(o.jsx)("span",{children:"active"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{type:"radio",name:t.id,value:!1,checked:!n,onChange:function(){i(!1),j({type:"unselectUser",payload:{user:t}})}}),Object(o.jsx)("span",{children:"not active"})]})]})]})}var p=s(16),b=s.n(p);function y(e){var t=e.users;return Object(o.jsx)("div",{className:b.a.listByLetter,children:t.map((function(e){return Object(o.jsx)(m,{user:e},e.id)}))})}var f=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],O=s(5),x=s.n(O);function v(e){var t=function(e){var t=new Map;return e.forEach((function(e){var s=e.firstName.charAt(0);if(t.get(s)){var r=t.get(s);r.push(e),r.sort((function(e,t){return e.firstName>t.firstName?1:-1})),t.set(s,r)}else t.set(s,[e])})),t}(e.data);return Object(o.jsxs)("div",{className:x.a.employees,children:[Object(o.jsx)("h2",{children:"Employees"}),Object(o.jsx)("div",{className:x.a.alphabet,children:Object(o.jsx)("ul",{children:f.map((function(e,s){return Object(o.jsxs)("div",{children:[Object(o.jsxs)("li",{className:x.a.alphabetLetter,children:[Object(o.jsx)("div",{className:x.a.letter,children:e}),Object(o.jsx)("div",{className:x.a.usersByLetter,children:t.get(e)?Object(o.jsx)(y,{users:t.get(e)}):Object(o.jsx)("div",{className:x.a.noEmployees,children:"No Employees"})})]}),Object(o.jsx)("hr",{})]},s)}))})})]})}var _=s(8),N=s.n(_),E=function(){var e=N.a.months(),t=N()().format("MMMM"),s=e.findIndex((function(e){return e===t}));return[].concat(Object(i.a)(e.slice(s)),Object(i.a)(e.slice(0,s)))},B=function(e){var t=new Map;return e.forEach((function(e){var s=N()(e.dob).format("MMMM");if(t.get(s)){var r=t.get(s);r.push(e),r.sort((function(e,t){return e.lastName>t.lastName?1:-1})),t.set(s,r)}else t.set(s,[e])})),t},M=s(13),g=s.n(M);function L(e){var t=e.users,s=e.month;return Object(o.jsx)("div",{children:B(t).get(s)?Object(o.jsx)("ul",{children:B(t).get(s).map((function(e){return Object(o.jsx)("li",{className:g.a.userBirthday,children:"".concat(e.firstName," ").concat(e.lastName," - ").concat(N()(e.dob).format("DD MMMM, YYYY")," year")},e.id)}))}):Object(o.jsx)("div",{className:g.a.noUsers,children:"No Employees"})})}var U=s(6),I=s.n(U);function k(){var e=Object(r.useContext)(l).users;return Object(o.jsxs)("div",{className:I.a.EmployeesBirthday,children:[Object(o.jsx)("h2",{children:"Employees birthday"}),0===e.length?Object(o.jsx)("div",{className:I.a.emptyList,children:"Employees List is empty"}):Object(o.jsx)("div",{className:I.a.birthdays,children:Object(o.jsx)("ul",{children:E().map((function(t,s){return Object(o.jsxs)("li",{className:I.a.usersByMonth,children:[Object(o.jsx)("div",{className:I.a.monthName,children:t}),Object(o.jsx)("div",{className:I.a.birthdayList,children:Object(o.jsx)(L,{users:e,month:t})})]},s)}))})})]})}var C=s(14),w=s.n(C),S=s(17);function J(){return J=Object(S.a)(w.a.mark((function e(){var t,s,r,a=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",s=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,s);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}function P(){return function(){return J.apply(this,arguments)}("".concat("https://yalantis-react-school-api.yalantis.com/api/task0/users"))}s(26);var Q=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),s=t[0],a=t[1];return Object(r.useEffect)((function(){P().then((function(e){return a(e)}))}),[]),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(v,{data:s}),Object(o.jsx)(k,{})]})},Y=s(18),A=s(2);n.a.render(Object(o.jsx)(Y.a,{children:Object(o.jsxs)(A.d,{children:[Object(o.jsx)(A.b,{exact:!0,path:"/",element:Object(o.jsx)(A.a,{to:"/employees"})}),Object(o.jsx)(A.b,{path:"/employees",element:Object(o.jsx)(d,{children:Object(o.jsx)(Q,{})})}),Object(o.jsx)(A.b,{exact:!0,path:"*",element:Object(o.jsx)(A.a,{to:"/employees"})})]})}),document.getElementById("root"))},5:function(e,t,s){e.exports={employees:"Employees_employees__1Qxsj",alphabetLetter:"Employees_alphabetLetter__3iOE4",usersByLetter:"Employees_usersByLetter__1VxEH",letter:"Employees_letter__1hiQF",noEmployees:"Employees_noEmployees__3om-7"}},6:function(e,t,s){e.exports={EmployeesBirthday:"EmployeesBirthday_EmployeesBirthday__1kUdI",usersByMonth:"EmployeesBirthday_usersByMonth__1bMPa",monthName:"EmployeesBirthday_monthName__QsQK-",birthdayList:"EmployeesBirthday_birthdayList__1yywa",emptyList:"EmployeesBirthday_emptyList__32R8G",birthdays:"EmployeesBirthday_birthdays__2PmnX"}}},[[27,1,2]]]);
//# sourceMappingURL=main.ce771672.chunk.js.map