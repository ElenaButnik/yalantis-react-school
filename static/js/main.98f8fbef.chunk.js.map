{"version":3,"sources":["components/UserBirthdayItem/UserBirthdayItem.module.css","components/ListByLetter/ListByLetter.module.css","UserContext.js","components/UserItem/UserItem.js","components/ListByLetter/ListByLetter.js","helpers/alphabet.helper.js","components/Employees/Employees.js","helpers/month.helper.js","components/UserBirthdayItem/UserBirthdayItem.js","components/EmployeesBirthday/EmployeesBirthday.js","services/users.js","components/App.js","index.js","components/Employees/Employees.module.css","components/EmployeesBirthday/EmployeesBirthday.module.css"],"names":["module","exports","UserContext","createContext","reducer","state","action","type","payload","user","filter","item","id","UserProvider","props","useReducer","localData","localStorage","getItem","JSON","parse","users","updateUsers","useEffect","setItem","stringify","Provider","value","children","UserItem","useState","checked","setChecked","useContext","find","className","firstName","lastName","name","onChange","ListByLetter","s","listByLetter","map","alphabet","Employees","data","Map","forEach","element","firstLetter","charAt","get","arr","push","sort","a","b","set","getAlphabetMap","employees","i","alphabetLetter","letter","usersByLetter","noEmployees","getMonthArray","months","moment","currentMonth","format","position","findIndex","slice","getBirthdayMap","month","dob","UserBirthdayItem","userBirthday","noUsers","EmployeesBirthday","length","emptyList","birthdays","usersByMonth","monthName","birthdayList","url","config","fetch","response","ok","json","Promise","reject","Error","FetchUsers","FetchWithErrorUsers","App","usersList","setUsersList","then","ReactDOM","render","exact","path","to","document","getElementById"],"mappings":"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","file":"static/js/main.98f8fbef.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"noUsers\":\"UserBirthdayItem_noUsers__1Mhai\",\"userBirthday\":\"UserBirthdayItem_userBirthday__2nNgC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listByLetter\":\"ListByLetter_listByLetter__3s6v7\"};","import React, { createContext, useEffect, useReducer } from 'react';\n\nexport const UserContext = createContext();\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case 'selectUser':\n            return [...state, action.payload.user];\n        case 'unselectUser':\n            return state.filter(item => item.id !== action.payload.user.id);\n        default:\n            return state;\n    }\n};\n\nexport function UserProvider(props) {\n    const [users, updateUsers] = useReducer(reducer, [], () => {\n        const localData = localStorage.getItem('users');\n        return localData ? JSON.parse(localData) : [];\n    });\n\n    useEffect(() => {\n        localStorage.setItem('users', JSON.stringify(users));\n    }, [users]);\n\n    return (\n        <UserContext.Provider value={{ updateUsers, users }}>\n            {props.children}\n        </UserContext.Provider>\n    );\n}\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { UserContext } from \"../../UserContext\";\nimport PropTypes from \"prop-types\";\nimport \"./UserItem.css\";\n\nexport default function UserItem({ user }) {\n  const [checked, setChecked] = useState(false);\n  const { users, updateUsers } = useContext(UserContext);\n\n  useEffect(() => {\n    if (users.find((item) => item.id === user.id)) {\n      setChecked(true);\n    }\n  }, [users, user]);\n\n  return (\n    <div className='userContainer'>\n      <div\n        className={`userName ${checked && 'selected'}`}\n      >{`${user.firstName} ${user.lastName}`}</div>\n      <span className='radioButtons'>\n        <div className='buttonItem'>\n          <input\n            type=\"radio\"\n            name={user.id}\n            value={true}\n            checked={checked}\n            onChange={() => {\n              setChecked(true);\n              updateUsers({\n                type: \"selectUser\",\n                payload: {\n                  user,\n                },\n              });\n            }}\n          />\n          active\n        </div>\n\n        <div className='buttonItem'>\n          <input\n            type=\"radio\"\n            name={user.id}\n            value={false}\n            checked={!checked}\n            onChange={() => {\n              setChecked(false);\n              updateUsers({\n                type: \"unselectUser\",\n                payload: {\n                  user,\n                },\n              });\n            }}\n          />\n          not active\n        </div>\n      </span>\n    </div>\n  );\n}\n\nUserItem.propTypes = {\n  user: PropTypes.shape({\n    id: PropTypes.string,\n    firstName: PropTypes.string,\n    lastName: PropTypes.string,\n    dob: PropTypes.string,\n  }).isRequired,\n};\n","import React from 'react';\nimport UserItem from '../UserItem/UserItem';\nimport PropTypes from 'prop-types';\nimport s from './ListByLetter.module.css';\n\nexport default function ListByLetter ({ users }){\n    return (\n        <div className={s.listByLetter}>\n            {users.map(user => {\n                return <UserItem user={user} key={user.id} />;\n            })}\n        </div>\n    );\n};\n\nListByLetter.propTypes = {\n    users: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.string,\n            firstName: PropTypes.string,\n            lastName: PropTypes.string,\n            dob: PropTypes.string,\n        }).isRequired,\n    ).isRequired,\n};\n\n\n","const alphabet = [\n    'A',\n    'B',\n    'C',\n    'D',\n    'E',\n    'F',\n    'G',\n    'H',\n    'I',\n    'J',\n    'K',\n    'L',\n    'M',\n    'N',\n    'O',\n    'P',\n    'Q',\n    'R',\n    'S',\n    'T',\n    'U',\n    'V',\n    'W',\n    'X',\n    'Y',\n    'Z',\n];\n\nconst getAlphabetMap = data => {\n    const map = new Map();\n    data.forEach(element => {\n        const firstLetter = element.firstName.charAt(0);\n        if (!map.get(firstLetter)) {\n            map.set(firstLetter, [element]);\n        } else {\n            let arr = map.get(firstLetter);\n            arr.push(element);\n            arr.sort((a, b) => (a.firstName > b.firstName ? 1 : -1));\n            map.set(firstLetter, arr);\n        }\n    });\n    return map;\n};\n\nexport { alphabet, getAlphabetMap };\n","import React from \"react\";\nimport ListByLetter from \"../ListByLetter/ListByLetter\";\nimport { getAlphabetMap, alphabet } from \"../../helpers/alphabet.helper\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Employees.module.css\";\n\nexport default function Employees({ data }) {\n  const users = getAlphabetMap(data);\n  return (\n    <div className={s.employees}>\n      <h2>Employees</h2>\n      <div className={s.alphabet}>\n        <ul>\n          {alphabet.map((item, i) => {\n            return (\n              <div key={i}>\n                <li className={s.alphabetLetter}>\n                  <div className={s.letter}>{item}</div>\n                  <div className={s.usersByLetter}>\n                    {users.get(item) ? (\n                      <ListByLetter users={users.get(item)} />\n                    ) : (\n                      <div className={s.noEmployees}>No Employees</div>\n                    )}\n                  </div>\n                </li>\n                <hr />\n              </div>\n            );\n          })}\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nEmployees.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      firstName: PropTypes.string,\n      lastName: PropTypes.string,\n      dob: PropTypes.string,\n    })\n  ).isRequired,\n};\n","import moment from 'moment';\n\nconst getMonthArray = () => {\n    let months = moment.months();\n    let currentMonth = moment().format('MMMM');\n    let position = months.findIndex(item => item === currentMonth);\n    return [...months.slice(position), ...months.slice(0, position)];\n};\n\nconst getBirthdayMap = data => {\n    const map = new Map();\n    data.forEach(element => {\n        const month = moment(element.dob).format('MMMM');\n        if (!map.get(month)) {\n            map.set(month, [element]);\n        } else {\n            let arr = map.get(month);\n            arr.push(element);\n            arr.sort((a, b) => (a.lastName > b.lastName ? 1 : -1));\n            map.set(month, arr);\n        }\n    });\n    return map;\n};\n\nexport { getMonthArray, getBirthdayMap };\n","import React from \"react\";\nimport moment from \"moment\";\nimport { getBirthdayMap } from \"../../helpers/month.helper\";\nimport s from \"./UserBirthdayItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function UserBirthdayItem({ users, month }) {\n  return (\n    <div>\n      {getBirthdayMap(users).get(month) ? (\n        <ul>\n          {getBirthdayMap(users)\n            .get(month)\n            .map((user) => {\n              return (\n                <li key={user.id} className={s.userBirthday}>\n                  {`${user.firstName} ${user.lastName} - ${moment(\n                    user.dob\n                  ).format(\"DD MMMM, YYYY\")} year`}\n                </li>\n              );\n            })}\n        </ul>\n      ) : (\n        <div className={s.noUsers}>Employees List is empty</div>\n      )}\n    </div>\n  );\n}\n\nUserBirthdayItem.propTypes = {\n  users: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      firstName: PropTypes.string,\n      lastName: PropTypes.string,\n      dob: PropTypes.string,\n    }).isRequired\n  ).isRequired,\n  month: PropTypes.string,\n};\n","import React, { useContext } from \"react\";\nimport { UserContext } from \"../../UserContext\";\nimport { getMonthArray } from \"../../helpers/month.helper\";\nimport UserBirthdayItem from \"../UserBirthdayItem/UserBirthdayItem\";\nimport s from \"./EmployeesBirthday.module.css\";\n\nexport default function EmployeesBirthday() {\n  const { users } = useContext(UserContext);\n\n  return (\n    <div className={s.EmployeesBirthday}>\n      <h2>Employees birthday</h2>\n      <hr/>\n      {users.length === 0 ? (\n        <div className={s.emptyList}>Employees List is empty</div>\n      ) : (\n        <div className={s.birthdays}>\n          <ul>\n            {getMonthArray().map((item, id) => {\n              return (\n                <li key={id} className={s.usersByMonth}>\n                  <div className={s.monthName}>{item}</div>\n                  <div className={s.birthdayList}>\n                    <UserBirthdayItem users={users} month={item} />\n                  </div>\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n","const BASE_URL =\r\n  \"https://yalantis-react-school-api.yalantis.com/api/task0/users\";\r\n\r\nasync function FetchWithErrorUsers(url = \"\", config = {}) {\r\n  const response = await fetch(url, config);\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error(\"Not found\"));\r\n}\r\n\r\nexport function FetchUsers() {\r\n  return FetchWithErrorUsers(`${BASE_URL}`);\r\n}\r\n","import React, { useEffect, useState } from \"react\";\nimport Employees from \"./Employees/Employees\";\nimport EmployeesBirthday from \"./EmployeesBirthday/EmployeesBirthday\";\nimport { FetchUsers } from \"../services/users\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [usersList, setUsersList] = useState([]);\n\n  useEffect(() => {\n    FetchUsers().then((data) => setUsersList(data));\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <Employees data={usersList} />\n      <EmployeesBirthday />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport { UserProvider } from './UserContext';\nimport { Route, HashRouter, Navigate, Routes } from 'react-router-dom';\n\nReactDOM.render(\n    <HashRouter>\n        <Routes>\n            <Route exact path=\"/\" element={<Navigate to=\"/employees\" />} />\n            <Route\n                path=\"/employees\"\n                element={\n                    <UserProvider>\n                        <App />\n                    </UserProvider>\n                }\n            />\n            <Route exact path=\"*\" element={<Navigate to=\"/employees\" />} />\n        </Routes>\n    </HashRouter>,\n    document.getElementById('root'),\n); ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"employees\":\"Employees_employees__1Qxsj\",\"alphabetLetter\":\"Employees_alphabetLetter__3iOE4\",\"usersByLetter\":\"Employees_usersByLetter__1VxEH\",\"letter\":\"Employees_letter__1hiQF\",\"noEmployees\":\"Employees_noEmployees__3om-7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"EmployeesBirthday\":\"EmployeesBirthday_EmployeesBirthday__1kUdI\",\"usersByMonth\":\"EmployeesBirthday_usersByMonth__1bMPa\",\"monthName\":\"EmployeesBirthday_monthName__QsQK-\",\"birthdayList\":\"EmployeesBirthday_birthdayList__1yywa\",\"emptyList\":\"EmployeesBirthday_emptyList__32R8G\",\"birthdays\":\"EmployeesBirthday_birthdays__2PmnX\"};"],"sourceRoot":""}